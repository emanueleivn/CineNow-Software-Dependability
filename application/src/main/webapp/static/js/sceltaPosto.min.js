/* sceltaPosto.min.js - Script per la selezione posti */
let selectedSeats=[],total=0;const seatPrice=7,availableSeats=document.querySelectorAll('.posto-disponibile'),totalPriceEl=document.getElementById('totalPrice'),totalPriceInput=document.getElementById('totalPriceInput'),selectedPostiInput=document.getElementById('selectedPostiInput'),checkoutButton=document.querySelector('#checkoutForm button[type="submit"]');function updateSummary(){totalPriceEl.textContent=total;totalPriceInput.value=total;selectedPostiInput.value=selectedSeats.join(',')}function resetSelection(){document.querySelectorAll('.posto-selezionato').forEach(seat=>{seat.classList.remove('posto-selezionato')});selectedSeats=[];total=0;updateSummary()}availableSeats.forEach(seat=>{seat.addEventListener('click',function(){if(seat.classList.contains('posto-selezionato')){seat.classList.remove('posto-selezionato');total-=seatPrice;const seatKey=seat.dataset.fila+"-"+seat.dataset.numero;selectedSeats=selectedSeats.filter(item=>item!==seatKey)}else{seat.classList.add('posto-selezionato');total+=seatPrice;const seatKey=seat.dataset.fila+"-"+seat.dataset.numero;selectedSeats.push(seatKey)}updateSummary()})});if(checkoutButton){checkoutButton.addEventListener('click',function(event){if(selectedSeats.length===0){event.preventDefault();alert("Devi selezionare almeno un posto prima di procedere al checkout.")}})}

